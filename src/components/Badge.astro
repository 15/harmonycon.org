---
import { Image } from "astro:assets";
const { src, href, idx, active, title = "Staff" } = Astro.props;
---

<a
  href={active ? "https://reg-2025.harmonycon.org/staff/application.php" : null}
  target="_blank"
  class=`${active ? "grayscale-0 cursor-pointer active" : "grayscale cursor-not-allowed opacity-80"} w-64 border-2 border-purple-200 relative rounded text-center duration-300`
>
  <span
    style="text-shadow: 2px 2px 1px black;"
    class="absolute text-4xl bottom-2 z-50 mx-auto left-0 right-0 text-purple-800"
  >
    {title}
  </span>
  <Image
    src={src}
    alt="Badge"
    style="filter: drop-shadow(0 2px 2px #000);"
    class="w-full h-auto"
    width="400"
  />
</a>

<style>
  .active {
    --a: 0deg; /* control the angle of rotation (the smaller, the better) */
    transform: perspective(400px)
      rotate3d(var(--r, 1, -1), 0, calc(var(--i, 1) * var(--a)));
    -webkit-mask: linear-gradient(135deg, #000c 40%, #000, #000c 60%) 100% 100%/250%
      250%;
    transition: 0.4s;
    /* animation:
      jump 1.2s cubic-bezier(0.77, 0.01, 0.25, 1) 2s forwards,
      rotating 4s var(--sine) 0s infinite forwards; */

    z-index: 50;
  }

  .active:hover {
    --i: -1;
    -webkit-mask-position: 0 0;
  }
</style>
