---
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import img1 from "../assets/2025/tune1.png";
import img2 from "../assets/2025/star1.png";
import img3 from "../assets/2025/HarmonyCon 2025 Logo.png";
import img4 from "../assets/2025/ticket.png";
---

<Layout title="HarmonyCon 2025">
  <div id="curtains">
    <div id="curtain-1"></div>
    <div id="curtain-2"></div>
  </div>
	<div id="splash" class="w-240 h-full relative">
    <div id="tune" class="absolute w-120 left-0 top-0">
      <Image
        alt="Harmony"
        src={img1}
        width={1200}
      style="filter: drop-shadow(0 10px 10px #000);"
      />
    </div>
    <div id="star" class="absolute w-128 right-0 top-0">
      <Image
        alt="Harmony"
        src={img2}
        width={1200}
        style="filter: drop-shadow(0 10px 10px #000);"
      />
    </div>
	</div>
  <div id="logo" class="absolute w-144 mx-auto bottom-12 left-0 right-0">
    <Image
      alt="Harmony"
      src={img3}
      width={1200}
      style="filter: drop-shadow(0 10px 10px #000);"
      class="w-144"
    /> 
    <div class="flex flex-row gap-x-8 justify-center">

      <Image
      alt="Harmony"
      src={img4}
      width={300}
      style="filter: drop-shadow(0 10px 10px #000);"
      class="w-48"
    /> 
    <Image
      alt="Harmony"
      src={img4}
      width={300}
      style="filter: drop-shadow(0 10px 10px #000);"
      class="w-48"
    /> 
    </div>
  </div>
</Layout>

<script>
  document.addEventListener('swup:enable', () => {
    window.swup.hooks.on('page:view', () => {
      const curtain1 = document.getElementById("curtain-1");
      const curtain2 = document.getElementById("curtain-2");
      const splash = document.getElementById("splash");
      if (curtain1) {
        curtain1.className = "skip";
      }
      if (curtain2) {
        curtain2.className = "skip";
      }
      if (splash) {
        splash.className = "skip";
      }
    })
  });
</script>

<style>

  :root {
    --elastic: 
    linear( 0, 0.0009 8.51%, -0.0047 19.22%, 0.0016 22.39%, 0.023 27.81%,
       0.0237 30.08%, 0.0144 31.81%, -0.0051 33.48%, -0.1116 39.25%, -0.1181 40.59%,
       -0.1058 41.79%, -0.0455, 0.0701 45.34%, 0.9702 55.19%, 1.0696 56.97%,
       1.0987 57.88%, 1.1146 58.82%, 1.1181 59.83%, 1.1092 60.95%, 1.0057 66.48%,
       0.986 68.14%, 0.9765 69.84%, 0.9769 72.16%, 0.9984 77.61%, 1.0047 80.79%,
       0.9991 91.48%, 1 );
  }

  #curtains {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  #curtain-1, #curtain-2 {
    content: "";
    display: block;
    width: 100%;
    height: 50%;
    background-color: #000;
  }

  #curtain-1 {
    transform: translateY(-100%);
    animation-name: slide-bottom;
    animation-duration: 0.6s;
    animation-delay: 0s;
    animation-direction: alternate;
  }

  #curtain-2 {
    transform: translateY(100%);
    animation-name: slide-top;
    animation-duration: 0.6s;
    animation-delay: 0s;
    animation-direction: alternate;
  }

  #splash {
    @apply absolute left-0 top-[-250%] right-0 bottom-0 m-auto;
    opacity: 1;
    animation: drop var(--elastic) forwards;
    animation-duration: 2.0s;
    animation-delay: 0.0s;
  }

  #tune {
    
  }

  #star {

  }

  .skip {
    animation-duration: 0s !important;
    animation-delay: 0s !important;
  }

  @keyframes slide-bottom {
    0%, 20% {
      transform: translateY(0%);
    }
    100% {
      transform: translateY(-100%);
    }
  }

	@keyframes slide-top {
    0%, 20% {
      transform: translateY(0%);
    }
    100% {
      transform: translateY(100%);
    }
  }
  @keyframes drop {
    from {
      top: -250%;
    }
    to {
      top: -100%;
    }
  }
  @keyframes fadein {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  @keyframes fadeout {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }
	</style>