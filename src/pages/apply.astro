---
import { Image, getImage } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import clipboard from "../assets/2025/clipboardhoof2.png";
import staff from "../assets/2024/badges/badge layout 2024 staff.png";
import panelist from "../assets/2024/badges/badge layout 2024 panelist.png";
import cg from "../assets/2024/badges/badge layout 2024 cg.png";
import musicians from "../assets/2024/badges/musician badge.png";
import vendor from "../assets/2024/badges/badge2024_Vendor.png";
import Badge from "../components/Badge.astro";

import applyBackground from "../assets/2025/bg/stage2.png";
const optimizedApplyBackground = await getImage({
  src: applyBackground,
  format: "avif",
  width: 1920,
});
const optimizedClipboard = await getImage({
  src: clipboard,
  format: "avif",
  width: 1000,
});

import Footer from "../components/Footer.astro";
---

<link
  rel="preload"
  href={optimizedClipboard.src}
  as="image"
  fetchpriority="high"
/>
<Layout title="HarmonyCon 2025 | Apply">
  <div
    id="bg"
    class="overflow-x-hidden overflow-y-hidden w-screen h-screen relative"
  >
    <div
      id="clipboard"
      class="text-black font-serif uppercase aspect-[0.85] w-auto h-screen mx-auto absolute bottom-0 left-1/2 transform -translate-x-1/2 opacity-0"
    >
      <a
        target="_blank"
        href="https://reg-2025.harmonycon.org/staff/application.php"
        class="bg-[#ffffff44] w-[22.5%] h-[15%] absolute left-[25.5%] top-[27%]"
      >
      </a>
      <a
        target="_blank"
        href="https://docs.google.com/forms/d/1m6MHf1k27lphtqDx-V826Lli2IqNRsn0_FxiNrUZc30/viewform?edit_requested=true"
        class="bg-[#ffffff44] w-[22.5%] h-[15%] absolute left-[52.5%] top-[27%]"
      >
      </a>
      <a
        target="_blank"
        href="https://reg-2025.harmonycon.org/apply/application.php?c=vendor"
        class="bg-[#ffffff44] w-[22.5%] h-[15%] absolute left-[25.5%] top-[45%]"
      >
      </a>
      <a
        target="_blank"
        href="https://reg-2025.harmonycon.org/apply/application.php?c=guest"
        class="bg-[#ffffff44] w-[22.5%] h-[15%] absolute left-[52.5%] top-[45%]"
      >
      </a>
      <a
        target="_blank"
        href="https://reg-2025.harmonycon.org/apply/application.php?c=musician"
        class="bg-[#ffffff44] w-[22.5%] h-[15%] absolute left-[39%] top-[63%]"
      >
      </a>
    </div>
  </div>
  <Footer />
</Layout>
<style
  define:vars={{
    optimizedApplyBackground: `url(${optimizedApplyBackground.src})`,
    optimizedClipboard: `url(${optimizedClipboard.src})`,
  }}
>
  #bg {
    position: absolute;

    top: 0;
    left: 0;
    width: 100%;
    height: auto;
    min-height: 100%;
    background-image: var(--optimizedApplyBackground);
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    opacity: 1;
  }

  #clipboard {
    background-image: var(--optimizedClipboard);
    background-repeat: no-repeat;
    background-size: contain;
    background-position: center;
    position: absolute;
    rotate: -0.3deg;
    animation:
      reveal 0.7s cubic-bezier(0.5, 0.1, 0.1, 1) 0.6s forwards,
      zoom 0.75s ease-out 0.6s forwards,
      floating4 4s var(--sine) 1.35s infinite forwards;
  }

  @media (max-width: 768px) {
    @keyframes zoom {
      from {
        rotate: -10deg;
        scale: 1.5;
      }
      to {
        rotate: -0.3deg;
        scale: 1;
      }
    }

    @keyframes reveal {
      from {
        opacity: 1;
        /* bottom: -150vh; */
        transform: translateX(-50%) translateY(150%);
      }
      to {
        opacity: 1;
        transform: translateX(-50%) translateY(0%);
      }
    }
  }

  @media (min-width: 768px) {
    @keyframes zoom {
      from {
        rotate: -10deg;
        scale: 1.5;
      }
      to {
        rotate: -0.3deg;
        scale: 1;
      }
    }

    @keyframes reveal {
      from {
        opacity: 1;
        /* bottom: -150vh; */
        transform: translateX(-50%) translateY(150%);
      }
      to {
        opacity: 1;
        transform: translateX(-50%) translateY(0%);
      }
    }
  }

  @media (min-width: 1024px) {
    @keyframes zoom {
      from {
        rotate: -10deg;
        scale: 1.5;
      }
      to {
        rotate: -0.3deg;
        scale: 1;
      }
    }

    @keyframes reveal {
      from {
        opacity: 1;
        /* bottom: -150vh; */
        transform: translateX(-50%) translateY(150%);
      }
      to {
        opacity: 1;
        transform: translateX(-50%) translateY(0%) scale(1.2);
      }
    }
  }

  @keyframes floating4 {
    0% {
      rotate: -0.3deg;
      translate: 0px 0px;
    }
    50% {
      rotate: 0.2deg;
      translate: 0px 3px;
    }
    100% {
      rotate: -0.3deg;
      translate: 0px 0px;
    }
  }

  :root {
    --elastic: linear(
      0,
      0.0009 8.51%,
      -0.0047 19.22%,
      0.0016 22.39%,
      0.023 27.81%,
      0.0237 30.08%,
      0.0144 31.81%,
      -0.0051 33.48%,
      -0.1116 39.25%,
      -0.1181 40.59%,
      -0.1058 41.79%,
      -0.0455,
      0.0701 45.34%,
      0.9702 55.19%,
      1.0696 56.97%,
      1.0987 57.88%,
      1.1146 58.82%,
      1.1181 59.83%,
      1.1092 60.95%,
      1.0057 66.48%,
      0.986 68.14%,
      0.9765 69.84%,
      0.9769 72.16%,
      0.9984 77.61%,
      1.0047 80.79%,
      0.9991 91.48%,
      1
    );

    --sine: linear(
      0,
      0.007 5.35%,
      0.0282 10.75%,
      0.0638 16.26%,
      0.1144 21.96%,
      0.1833 28.16%,
      0.2717 34.9%,
      0.6868 62.19%,
      0.775 68.54%,
      0.8457 74.3%,
      0.9141 81.07%,
      0.9621 87.52%,
      0.9905 93.8%,
      1
    );
  }

  a {
    --a: 0deg; /* control the angle of rotation (the smaller, the better) */
    transform: perspective(400px)
      rotate3d(var(--r, 1, -1), 0, calc(var(--i, 1) * var(--a)));
    -webkit-mask: linear-gradient(135deg, #000c 40%, #000, #000c 60%) 100% 100%/250%
      250%;
    transition: 0.4s;
    /* animation:
      jump 1.2s cubic-bezier(0.77, 0.01, 0.25, 1) 2s forwards,
      rotating 4s var(--sine) 0s infinite forwards; */

    z-index: 50;
  }

  a:hover {
    --i: -1;
    -webkit-mask-position: 0 0;
  }
</style>
