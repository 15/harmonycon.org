---
import { Image, getImage } from "astro:assets";
import Layout from "../layouts/Layout.astro";

import { Icon } from "astro-icon/components";

import cocBackground from "../assets/2025/bg/vendorhall.png";
const optimizedCocBackground = await getImage({
  src: cocBackground,
  format: "avif",
  width: 2000,
});


import vendor from "../assets/2025/vendors/dealers_room.png";

import vendors from "@data/vendors.js";

const optimizedVendor = await getImage({
  src: vendor,
  format: "avif",
  width: 1080,
});

import table1 from "../assets/2025/vendors/dealers_room/0 glow.png";
import table2 from "../assets/2025/vendors/dealers_room/1 glow.png";
import table3 from "../assets/2025/vendors/dealers_room/2 glow.png";
import table4 from "../assets/2025/vendors/dealers_room/3 glow.png";
import table5 from "../assets/2025/vendors/dealers_room/4 glow.png";
import table6 from "../assets/2025/vendors/dealers_room/5 glow.png";
import table7 from "../assets/2025/vendors/dealers_room/6 glow.png";
import table8 from "../assets/2025/vendors/dealers_room/7 glow.png";
import table9 from "../assets/2025/vendors/dealers_room/8 glow.png";
import table10 from "../assets/2025/vendors/dealers_room/9 glow.png";
import table11 from "../assets/2025/vendors/dealers_room/10 glow.png";
import table12 from "../assets/2025/vendors/dealers_room/11 glow.png";
import table13 from "../assets/2025/vendors/dealers_room/12 glow.png";
import table14 from "../assets/2025/vendors/dealers_room/13 glow.png";
import table15 from "../assets/2025/vendors/dealers_room/14 glow.png";
import table16 from "../assets/2025/vendors/dealers_room/15 glow.png";
import table17 from "../assets/2025/vendors/dealers_room/16 glow.png";
import table18 from "../assets/2025/vendors/dealers_room/17 glow.png";
import table19 from "../assets/2025/vendors/dealers_room/18 glow.png";
import table20 from "../assets/2025/vendors/dealers_room/19 glow.png";
import table21 from "../assets/2025/vendors/dealers_room/20 glow.png";
import table22 from "../assets/2025/vendors/dealers_room/21 glow.png";
import table23 from "../assets/2025/vendors/dealers_room/22 glow.png";
import table24 from "../assets/2025/vendors/dealers_room/23 glow.png";
import table25 from "../assets/2025/vendors/dealers_room/24 glow.png";
import table26 from "../assets/2025/vendors/dealers_room/25 glow.png";
import table27 from "../assets/2025/vendors/dealers_room/26 glow.png";
import table28 from "../assets/2025/vendors/dealers_room/27 glow.png";
import table29 from "../assets/2025/vendors/dealers_room/28 glow.png";
import table30 from "../assets/2025/vendors/dealers_room/29 glow.png";
import table31 from "../assets/2025/vendors/dealers_room/30 glow.png";
import table32 from "../assets/2025/vendors/dealers_room/31 glow.png";
import table33 from "../assets/2025/vendors/dealers_room/32 glow.png";
import table34 from "../assets/2025/vendors/dealers_room/33 glow.png";
import table35 from "../assets/2025/vendors/dealers_room/34 glow.png";
import table36 from "../assets/2025/vendors/dealers_room/35 glow.png";
import table37 from "../assets/2025/vendors/dealers_room/36 glow.png";
import table38 from "../assets/2025/vendors/dealers_room/37 glow.png";
import table39 from "../assets/2025/vendors/dealers_room/38 glow.png";
import table40 from "../assets/2025/vendors/dealers_room/39 glow.png";
import table41 from "../assets/2025/vendors/dealers_room/40 glow.png";
import table42 from "../assets/2025/vendors/dealers_room/41 glow.png";
import table43 from "../assets/2025/vendors/dealers_room/42 glow.png";
import table44 from "../assets/2025/vendors/dealers_room/Constore glow.png";

import pepper from "../assets/2025/vendors/temp.png";

const tables = [
  table1,
  table2,
  table3,
  table4,
  table5,
  table6,
  table7,
  table8,
  table9,
  table10,
  table11,
  table12,
  table13,
  table14,
  table15,
  table16,
  table17,
  table18,
  table19,
  table20,
  table21,
  table22,
  table23,
  table24,
  table25,
  table26,
  table27,
  table28,
  table29,
  table30,
  table31,
  table32,
  table33,
  table34,
  table35,
  table36,
  table37,
  table38,
  table39,
  table40,
  table41,
  table42,
  table43,
  table44
]

import Footer from "../components/Footer.astro";
---

<Layout title="HarmonyCon 2025 | Vendors">
  <div id="bg" class="flex flex-col pt-8 md:pt-16 gap-y-8 px-4 md:px-0 overflow-hidden">
    <div class="relative flex flex-col md:flex-row justify-center items-center">
      <div
        id="vendors-map"
        class="ml-0 md:-ml-64 md:mb-0 mb-8 text-black bg-white flex flex-col lg:flex-row items-center md:-rotate-1 rounded w-[100%] md:w-[70%] lg:w-[58%] xl:w-[50%] 2xl:w-[43%] aspect-[0.829] h-auto md:animate-float-1"
        style={`filter: drop-shadow(0 5px 5px #000); background-image: url(${optimizedVendor.src}); background-size: contain; background-repeat: no-repeat;`}
      >
        {
          vendors.map(({ id, left, top, width, height }, i) => (
            <Image id={`table-${id}`} format="avif" src={tables[id === "0" ? tables.length - 1 : parseInt(id) - 1]} width={800} alt={`Table #${i+1}`} class={`w-full absolute highlight-orange z-0 opacity-0 duration-300`}/> 
            <div
              id={`regular-${id}`}
              style={`left: ${left}%; top: ${top}%; width: ${width}%; height: ${height}%;`}
              class={`bg-transparent opacity-50 table z-50`}
            >
              
            </div>
          ))
        }
      </div>
      <div id="vendors-list" class="cursor-move md:absolute right-[0%] xl:right-[5%] 2xl:right-[10%] top-[-5%] 2xl:top-[-2%] w-full md:w-fit p-4 md:p-4 font-sans font-medium text-black bg-white flex flex-col items-center md:rotate-3 rounded-xl md:animate-float-2"  style={`filter: drop-shadow(0 5px 5px #000); `}>
        <div class="text-4xl md:text-xl text-center mb-8 mt-8 md:mt-0 md:mb-4 font-semibold">
          Click to see vendor info!
        </div>
        <div class="columns-1 md:mb-0 mb-8">
          {vendors.map(({ id, name, desc }) => (
          <>
            <div id={`vendor-item-${id}`} class="flex flex-row gap-x-2 px-1 py-0 items-center hover:bg-black hover:text-white duration-300 cursor-pointer rounded">
              <div class="w-8 text-xl md:text-sm text-right font-mono">{['1', '0'].includes(id) ? 'HC' : (+id) - 1}</div>
              <Image src={pepper} alt={name} width={32} format="avif" class="w-6 h-6 md:w-4 md:h-4 rounded"/>
              <div class="text-center text-xl md:text-sm whitespace-nowrap">
                {name}
              </div>
            </div>
            <dialog class="p-0 cursor-default max-h-[90vh] max-w-[90vw] bg-black" id={`dialog-${id}`}>
              {/* <div
                class="block md:hidden absolute left-2 top-2 hover:bg-red-200 rounded-lg text-stone-600"
                onclick={`document.getElementById('dialog-${id}').close()`}
              >
                <svg
                  width="40"
                  height="40"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z"
                    fill="currentColor"></path>
                </svg>
              </div> */}
              <div
                class="overflow-y-auto overflow-x-hidden p-4 md:p-8 flex flex-col items-center justify-start w-full h-auto sm:w-[640px] md:w-[768px] lg:w-[1024px] 2xl:w-[1280px] max-h-[90vh]"
              >
                {/* <div class="w-full max-w-xl">
                  <Image
                    src={pepper}
                    format="avif"
                    height="800"
                    alt={name}
                    style="filter: drop-shadow(0 2px 2px #000);"
                    class="w-full h-auto max-h-[40vh] object-contain"
                  />
                </div> */}
                <div class="flex flex-col w-full items-center">
                  <div class="font-sans whitespace-nowrap py-6 text-3xl sm:text-4xl md:text-5xl lg:text-6xl 2xl:text-7xl text-center tracking-wide font-semibold uppercase text-white">
                    {name}
                  </div>
                  <div class="font-sans max-w-3xl text-sm sm:text-base md:text-lg 2xl:text-lg leading-snug sm:leading-normal text-white text-left" set:html={desc}>

                  </div>
                </div>
              </div>
            </dialog>
          </>
          ))}
        </div>
      </div>
    </div>
    <Footer />
  </div>

  <style
    define:vars={{
      optimizedCocBackground: `url(${optimizedCocBackground.src})`,
    }}
  >

.table {
    @apply text-center flex items-center  justify-center cursor-pointer  absolute;
  }

  .grayscale {
        filter: brightness(60%) grayscale(100) hue-rotate(0deg);
      }

      .highlight-orange {
        filter: invert(21%) sepia(13%) saturate(4615%) hue-rotate(335deg)
          brightness(97%) contrast(89%) drop-shadow(0 3px 3px #000);
      }

      .highlight-green {
        filter: invert(47%) sepia(56%) saturate(559%) hue-rotate(36deg)
          brightness(103%) contrast(87%) drop-shadow(0 3px 3px #000);
      }


    :root {
      --elastic: linear(
        0,
        0.0009 8.51%,
        -0.0047 19.22%,
        0.0016 22.39%,
        0.023 27.81%,
        0.0237 30.08%,
        0.0144 31.81%,
        -0.0051 33.48%,
        -0.1116 39.25%,
        -0.1181 40.59%,
        -0.1058 41.79%,
        -0.0455,
        0.0701 45.34%,
        0.9702 55.19%,
        1.0696 56.97%,
        1.0987 57.88%,
        1.1146 58.82%,
        1.1181 59.83%,
        1.1092 60.95%,
        1.0057 66.48%,
        0.986 68.14%,
        0.9765 69.84%,
        0.9769 72.16%,
        0.9984 77.61%,
        1.0047 80.79%,
        0.9991 91.48%,
        1
      );

      --sine: linear(
        0,
        0.007 5.35%,
        0.0282 10.75%,
        0.0638 16.26%,
        0.1144 21.96%,
        0.1833 28.16%,
        0.2717 34.9%,
        0.6868 62.19%,
        0.775 68.54%,
        0.8457 74.3%,
        0.9141 81.07%,
        0.9621 87.52%,
        0.9905 93.8%,
        1
      );
    }
    #bg {
      position: absolute;

      top: 0;
      left: 0;
      width: 100%;
      height: auto;
      min-height: 100%;
      background-image: var(--optimizedCocBackground);
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;
      opacity: 1;
    }

    .card1 {
      animation:
      /* reveal 0.7s cubic-bezier(0.5, 0.1, 0.1, 1) 0.6s forwards,
      zoom 0.75s ease-out 0.6s forwards, */ floating1
        4s var(--sine) 0s infinite forwards;
    }

    .card2 {
      animation:
      /* reveal 0.7s cubic-bezier(0.5, 0.1, 0.1, 1) 0.8s forwards,
      zoom 0.75s ease-out 0.9s forwards, */ floating2
        5s var(--sine) 0.4s infinite forwards;
    }

    .card3 {
      animation:
      /* reveal 0.7s cubic-bezier(0.5, 0.1, 0.1, 1) 1s forwards,
      zoom 0.75s ease-out 1.2s forwards, */ floating3
        4.5s var(--sine) 0.8s infinite forwards;
    }

    @keyframes reveal {
      from {
        /* bottom: -150vh; */
        opacity: 1;
        transform: translateY(-300%);
      }
      to {
        opacity: 1;
        transform: translateY(0%);
      }
    }
    @keyframes zoom {
      from {
        rotate: 10deg;
        scale: 1;
      }
      to {
        rotate: -0.3deg;
        scale: 1;
      }
    }

    @keyframes floating1 {
      0% {
        transform: translate(0px, 0px) rotate(var(--map-rotation, 0deg));
      }
      50% {
        transform: translate(0px, 10px) rotate(var(--map-rotation, 0deg));
      }
      100% {
        transform: translate(0px, 0px) rotate(var(--map-rotation, 0deg));
      }
    }

    @keyframes floating2 {
      0% {
        transform: translate(0px, 0px) rotate(var(--list-rotation, 0deg));
      }
      50% {
        transform: translate(0px, -8px) rotate(var(--list-rotation, 0deg));
      }
      100% {
        transform: translate(0px, 0px) rotate(var(--list-rotation, 0deg));
      }
    }

    @keyframes floating3 {
      0% {
        translate: 0px 0px;
      }
      50% {
        translate: 0px 5px;
      }
      100% {
        translate: 0px 0px;
      }
    }

    dialog {
      font-family: Poppins, Arial, sans-serif;
      @apply rounded-xl;
      filter: drop-shadow(0 50px 50px #000);
      outline: none;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      max-height: 90vh;
      max-width: 90vw;
    }

    dialog > div {
      max-height: calc(90vh - 2rem);
      overflow-y: auto;
      scrollbar-gutter: stable;
    }

    dialog img {
      max-width: 100%;
      height: auto;
      object-fit: contain;
    }

    dialog[open] {
      animation: fade 0.3s ease-in-out normal;
    }

    dialog::backdrop {
      background-image: linear-gradient(45deg, #000, #000);
      opacity: 0.5;
      backdrop-filter: blur(5px);
    }

    dialog:focus {
      outline: none;
    }

    /* Update text colors to white */
    dialog .text-black {
      color: white;
    }

    /* Update close button color */
    dialog .text-stone-600 {
      color: white;
    }
    
    dialog .hover\:bg-red-200:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }

    @keyframes fade {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-float-1 {
      animation: floating1 8s ease-in-out infinite;
    }

    .animate-float-2 {
      animation: floating2 10s ease-in-out infinite;
    }

    @media (min-width: 768px) {
      :root {
        --map-rotation: -1deg;
        --list-rotation: 3deg;
      }
    }
  </style>
</Layout>


<script>
  import tippy from "tippy.js";
  import "tippy.js/dist/tippy.css";
  import "tippy.js/animations/shift-away-extreme.css";

  const vendors = [
  {
    id: "0",
    left: 12,
    top: 72,
    width: 8,
    height: 17,
    name: "Con Store",
    src: "sigil.png",
    desc: "This is the official HarmonyCon store! :3",
    twitter: ""
  },
  {
    id: "1",
    left: 27.5,
    top: 81,
    width: 6, 
    height: 6,
    name: "15",
    src: "sigil.png",
    desc: `Find me and say the magic words and win a prize! :3`,
    twitter: ""
  },
  {
    id: "2",
    left: 12,
    top: 63.5,
    width: 8,
    height: 6,
    name: "Tony Fleecs",
    src: "sigil.png",
    desc: `Tony Fleecs is a prolific and critically acclaimed comic book creator and TV writer. His comics have sold millions of copies in the United States and have been translated and reprinted all over the world. Tony's creator owned books include <i>STRAY DOGS</i> (2021,) <i>FERAL</i> (2024,) <i>UNCANNY VALLEY</i> (2024,) <i>LOCAL MAN</i> (2023) and <i>TIME SHOPPER</i> (2022.) His work has been nominated for multiple Eisner Awards and the Ringo Award. Tony has worked for every major U.S. comics publisher. You've seen his name on some of your favorite comic book titles like <i>Star Wars</i>, <i>Rick & Morty</i>, <i>Avengers</i>, <i>Spider-Man</i>, <i>Wolverine</i>, <i>Batman</i>, <i>TMNT</i>, <i>Transformers</i>, <i>Army of Darkness</i> and a literal TON of <i>My Little Pony</i>. He also wrote on the wildly popular Netflix show <i>My Little Pony: Make Your Mark</i>.`,
    twitter: ""
  },
  {
    id: "3",
    left: 12,
    top: 57.5,
    width: 8,
    height: 6,
    name: "Jeremy Whitley",
    src: "sigil.png",
    desc: `Jeremy Whitley is a writer from Durham, NC. He is the writer/creator of <i>The Dog Knight</i>, <i>Princeless</i>, <i>The School for Extraterrestrial Girls</i>, and <i>Navigating with You</i>. He is also the writer of over fifty issues of <i>My Little Pony</i> comics including <i>Nightmare Knights</i>, <i>Siege of the Crystal Empire</i>, and Season 10. He was once bitten by a radioactive pegasus.`,
    twitter: ""
  },
  {
    id: "4",
    left: 12,
    top: 51.5,
    width: 8,
    height: 6,
    name: "LBRCloud",
    src: "sigil.png",
    desc: `Hi! My name is Brittney, and I make cute pony art! I have a large variety of items, including prints, stickers, charms, mugs, pins, friendship bracelets, and even one-of-a-kind traditional pieces! All these things have one thing in common—they were created to make you smile! ✨`,
    twitter: ""
  },
  {
    id: "5",
    left: 12,
    top: 45.5,
    width: 8,
    height: 6,
    name: "Saphy Moon",
    src: "sigil.png",
    desc: `Various art merchandise, from stickers to keychains, notebooks, stationery, prints, badges, and traditional art.`,
    twitter: ""
  },
  {
    id: "6",
    left: 12,
    top: 39.5,
    width: 8,
    height: 6,
    name: "Jane Gumball",
    src: "sigil.png",
    desc: `Enamel pins, prints, keychains, and commissions!`,
    twitter: ""
  },
  {
    id: "7",
    left: 12,
    top: 33.5,
    width: 8,
    height: 6,
    name: "Halley & Sweetcreamarts",
    src: "sigil.png",
    desc: `From art and badges to games, pins, and more, we have something for everyone! The core reprint of the famous <i>TSSSF</i> will be here as well as several of the expansions, and even some brand new game projects. Come on by!`,
    twitter: ""
  },
  {
    id: "8",
    left: 12,
    top: 27.5,
    width: 8,
    height: 6,
    name: "Fiaura The Tank Girl",
    src: "sigil.png",
    desc: `Fiaura is here with all your <i>Fallout: Equestria</i> needs. Do you need bottles? Glassware? Books? Prints? Pins? Scarves perhaps? Well, if it is from the Wasteland, Fiaura has it! On top of that, she is bringing a whole line of 3D prints and quite possibly will have live painting and 3D printing available to anyone who asks.`,
    twitter: ""
  },
  {
    id: "9",
    left: 12,
    top: 21.5,
    width: 8,
    height: 6,
    name: "Rimi Plushies",
    src: "sigil.png",
    desc: `We sell a wide variety of plushies featuring characters from <i>My Little Pony: Friendship Is Magic</i> & <i>My Little Pony: Make Your Mark</i>.`,
    twitter: ""
  },
  {
    id: "10",
    left: 12,
    top: 13.5,
    width: 11,
    height: 8,
    name: "Techycutie",
    src: "sigil.png",
    desc: `Keychains, skate decks, lanyards, enamel pins, apparel, and drink tumblers!`,
    twitter: ""
  },
  {
    id: "11",
    left: 23,
    top: 13.5,
    width: 8,
    height: 6,
    name: "Bluefeathercat",
    src: "sigil.png",
    desc: `I am a digital artist. I sell prints, stickers, keychains, and buttons! I might offer commissions and/or traditional art as well. ✨`,
    twitter: ""
  },
  {
    id: "12",
    left: 31,
    top: 13.5,
    width: 7.5,
    height: 6,
    name: "Sky Railroad",
    src: "sigil.png",
    desc: `While we have a lot of everything, and the amount always changes, we currently have a few focus items:
<br><br>
1. Button-up style, full print shirts<br>
2. Custom-made spice blends<br>
3. Pony-themed cocktail recipes<br>
4. A card game called <i>Prance</i>
<br><br>
Sure, we have dakis, wall scrolls, keychains, acrylics, etc., but these things just fill up the space of the table and have stuff on it that we like. Those 4 items though are the core of the table, and we'll have new versions of 1-3 by HarmonyCon, on top of what we already have.`,
    twitter: ""
  },
  {
    id: "13",
    left: 38.5,
    top: 13.5,
    width: 7.5,
    height: 6,
    name: "My Little Ties",
    src: "sigil.png",
    desc: `<i>My Little Pony</i>-inspired ties, bow-ties, lapel pins, flasks, coasters, necklaces, steel and silver jewelry, coins, wallets, mugs, compasses, magnets, sun catchers, keychains, LED badges, and more!`,
    twitter: ""
  },
  {
    id: "14",
    left: 46,
    top: 13.5,
    width: 7,
    height: 6,
    name: "Gobiraptor",
    src: "sigil.png",
    desc: `Japanese privacy curtains, blankets, dakis, wall scrolls, at-con sketches/badge art commissions, stickers, and stationery. Definitely interested in trying to make a 'Celebration of Broadway' playbill magazine with other vendors!`,
    twitter: ""
  },
  {
    id: "15",
    left: 53,
    top: 13.5,
    width: 7,
    height: 6,
    name: "Moozua Art",
    src: "sigil.png",
    desc: `Creating vibrant pony illustrations and nostalgic artwork, Moozua will be offering a collection of cute merchandise such as wall scrolls, bags, pillows, keychains, stickers, and more! ✨`,
    twitter: ""
  },
  {
    id: "16",
    left: 60,
    top: 13.5,
    width: 7.5,
    height: 6,
    name: "BefishProductions",
    src: "sigil.png",
    desc: `I'll be bringing stickers, acrylic charms, buttons, lanyards, kandi bracelets, sticker books, badges, wall scrolls, and possibly even 3D prints!`,
    twitter: ""
  },
  {
    id: "17",
    left: 67.5,
    top: 13.5,
    width: 7,
    height: 6,
    name: "Rabbitasaur Creatives",
    src: "sigil.png",
    desc: `I sell custom at-con badges, YCH art, accessories featuring art all made by me, prints, original art pieces, stickers, pins, keychains, stationery, reusable bags, and blankets!`,
    twitter: ""
  },
  {
    id: "18",
    left: 74.5,
    top: 13.5,
    width: 9,
    height: 10,
    name: "Choco Pony Flags and Swag",
    src: "sigil.png",
    desc: `Flags, shirts, badges, lanyards, and more—Choco Pony has it all! Stop by for all sweets, treats, and pony needs. Perfect holiday gifts! ✨`,
    twitter: ""
  },
  {
    id: "19",
    left: 74.5,
    top: 23.5,
    width: 9,
    height: 6,
    name: "Peruser's Plushies",
    src: "sigil.png",
    desc: `I am a plushmaker who has been putting smiles on ponies' faces since 2013! I make and sell all manner and sizes of cuddly ponies crafted entirely by hand using my own patterns. ✨`,
    twitter: ""
  },
  {
    id: "20",
    left: 74.5,
    top: 29.5,
    width: 9,
    height: 6,
    name: "The Haywaiian Horse",
    src: "sigil.png",
    desc: `Hiya! I'm the Haywaiian Horse! 🌺 You can call me Miss Mele. I'm a small, part-time freelance digital artist, cursed to draw cute ponies and furries for the rest of my life. I'm not complaining—it's a fun living! 😁
<br><br>
I'm also a small business, traveling to various conventions across the domestic US! Here at Haywaiian Horse Productions, we pride ourselves in cute pony knick-knacks and creativity to bring new and exciting things to the fandom. Here we offer custom pony art, i.e., custom pony badges and <b>LIVE</b> digital commissions. And you'll also find exclusive enamel pins, acrylic keychain charms, portable drinkware, travel pillows, stickers, and <b>SO MUCH MORE!</b> If you can think it, we probably have it! 😉 Stop on by and say hi! ✨`,
    twitter: ""
  },
  {
    id: "21",
    left: 74.5,
    top: 35.5,
    width: 9,
    height: 6,
    name: "Ponies by RubioWolf",
    src: "sigil.png",
    desc: `I make an assortment of hand-crafted snuggly and cuddly plushies in various sizes and styles, ranging from small, laying beanie styles to assorted standing sizes! ✨`,
    twitter: ""
  },
  {
    id: "22",
    left: 74.5,
    top: 41.5,
    width: 9,
    height: 6,
    name: "The Rainbow Table",
    src: "sigil.png",
    desc: `I'll be bringing small plushies, pillows, keychains, buttons, coloring books, etc.! ✨`,
    twitter: ""
  },
  {
    id: "23",
    left: 74.5,
    top: 47.5,
    width: 9,
    height: 6,
    name: "Way2Weird Productions",
    src: "sigil.png",
    desc: `I produce a variety of products based on <i>MLP</i>, my own "After the Fact Videos", and products that encourage creativity. These include journals, quill pens, hacky sacks, keychains, flags, charms, pendants, spinner rings, and a variety of buttons!`,
    twitter: ""
  },
  {
    id: "24",
    left: 71.5,
    top: 53.5,
    width: 12,
    height: 8,
    name: "Black Dog Enterprises",
    src: "sigil.png",
    desc: `Figures, posters, beach towels, TCG, games, and more!`,
    twitter: ""
  },
  {
    id: "25",
    left: 64.5,
    top: 53.5,
    width: 7,
    height: 8,
    name: "Outlaw Works",
    src: "sigil.png",
    desc: `Quilts, tumblers, glasses, and misc items! ✨`,
    twitter: ""
  },
  {
    id: "26",
    left: 57.5,
    top: 53.5,
    width: 7,
    height: 8,
    name: "1st Awesome Platoon",
    src: "sigil.png",
    desc: `Pony-themed hats, t-shirts, jerseys, hand-made glass pony sculptures, flasks, coins, patches, stickers, and more!`,
    twitter: ""
  },
  {
    id: "27",
    left: 50,
    top: 53.5,
    width: 7.5,
    height: 8,
    name: "Bakufoon Creations",
    src: "sigil.png",
    desc: `I make and sell plushies as well as other fabric and embroidery crafts like keychains and lanyards! ✨`,
    twitter: ""
  },
  {
    id: "28",
    left: 43,
    top: 53.5,
    width: 7,
    height: 8,
    name: "ShadowKrafts",
    src: "sigil.png",
    desc: `I sell custom, hand-crafted plushies, made of high-quality minky. My plushies have a mix of either hand-embroidered or machine-embroidered details, and each one is made with love and attention to detail! ✨`,
    twitter: ""
  },
  {
    id: "29",
    left: 35.5,
    top: 53.5,
    width: 7.5,
    height: 8,
    name: "Waffle Wishes",
    src: "sigil.png",
    desc: `Pony jackets, shorts, wall scrolls, blankets, dakimakura, plushies, and more! ✨`,
    twitter: ""
  },
  {
    id: "30",
    left: 24.5,
    top: 37,
    width: 7.5,
    height: 6.5,
    name: "KuriNpony",
    src: "sigil.png",
    desc: `I am a plush maker and an artist. I will be bringing my handmade plush to the con and other pony products that I'm involved in. All of my products are sold only by me, including handmade products (plush, figures, artwork) and other products (pins, buttons, charms, prints, tote bags)! ✨`,
    twitter: ""
  },
  {
    id: "31",
    left: 24.5,
    top: 30.5,
    width: 7.5,
    height: 6.5,
    name: "Heavenly Blue",
    src: "sigil.png",
    desc: `We have charms, buttons (many various shapes & sizes), acrylic pins, acrylic charms, photocards/trading cards, prints, and posters! ✨`,
    twitter: ""
  },
  {
    id: "32",
    left: 29,
    top: 25,
    width: 8,
    height: 6,
    name: "Shibabitz Art",
    src: "sigil.png",
    desc: `I sell my art (original art and fanart of anime, video games, and pop culture) as prints, acrylic charms, and stickers. I also sell handmade fabric goods/accessories such as tote bags, dice bags, bucket hats, and scrunchies! ✨`,
    twitter: ""
  },
  {
    id: "33",
    left: 37,
    top: 25,
    width: 7,
    height: 6,
    name: "Glacier and TwiPie!",
    src: "sigil.png",
    desc: `We would be a pair of artists vending things like stickers, prints, standees, bags, mousepads, magnets, traditional paintings, commissions, and more! ✨`,
    twitter: ""
  },
  {
    id: "34",
    left: 44,
    top: 25,
    width: 7,
    height: 6,
    name: "Hibiscus Stitch",
    src: "sigil.png",
    desc: `Professionally designed and lovingly handcrafted plushies of all shapes and sizes! ✨`,
    twitter: ""
  },
  {
    id: "35",
    left: 51,
    top: 25,
    width: 7.5,
    height: 6,
    name: "fannytastical",
    src: "sigil.png",
    desc: `Apparel vendor with a variety of shirts along with badges, keychains, stickers, magnets, pillows, and more! ✨`,
    twitter: ""
  },
  {
    id: "36",
    left: 58.5,
    top: 25,
    width: 7.5,
    height: 6,
    name: "Art by Oomles",
    src: "sigil.png",
    desc: `My name is Emily, but I'm known around these parts as Oomles! I have a passion for art and have been making fanart of the things I love for years. Specifically, I've been making pony-related artwork since 2011. Now that I'm able to travel—and since I launched my pony podcast <i>Friendship is Content</i> last year with my best friend—visiting cons have been a consistent source of joy to me. I truly love meeting fellow fans of the things we love, and being able to share my artwork with others is the cherry on top of an experience that already means the world to me! ✨
<br><br>
I make stickers, prints, pinback buttons, enamel pins, acrylic standees, keychains, premade badges, magnets, and more! I've also recently dipped into the world of machine embroidery with handmade plushies and patches. Most of my clients have me make their OCs/sonas, but I am working on adding premade plushies to my convention lineup as well!`,
    twitter: ""
  },
  {
    id: "37",
    left: 63,
    top: 31,
    width: 7.5,
    height: 6,
    name: "MADSHYARTS",
    src: "sigil.png",
    desc: `Bring out your inner nerd with a big selection of goods from professional artist, Madshy! MadshyArts has been doing illustration, character design, and original merchandise for the fandom for over five years, and her many different products are sure to bring a smile to your face! Madshy's fun, storybook-style characters dance across a range of enamel pins, shirts, stickers, patches, handmade bow ties, plush creations, and more. Her huge variety of premade "Nerd" badges are there to rep your unique species and fandoms in the cutest way possible! Be sure to stop by for a daily dose of "awwh!" ✨`,
    twitter: ""
  },
  {
    id: "38",
    left: 63,
    top: 37,
    width: 7.5,
    height: 6.5,
    name: "Mad Munchkin Art and Illustration",
    src: "sigil.png",
    desc: `Art prints, keychains, pins, badges, flags, and more! ✨`,
    twitter: ""
  },
  {
    id: "39",
    left: 58.5,
    top: 43.5,
    width: 7.5,
    height: 6.5,
    name: "LytletheLemur",
    src: "sigil.png",
    desc: `Self-published comics, art prints, stickers, and custom commissions! ✨`,
    twitter: ""
  },
  {
    id: "40",
    left: 51,
    top: 43.5,
    width: 7.5,
    height: 6.5,
    name: "Orkid",
    src: "sigil.png",
    desc: `I sell lots of fan art of anime and western cartoons. I have <i>My Little Pony</i> acrylic keychains and <i>My Little Pony</i> posters! :) ✨`,
    twitter: ""
  },
  {
    id: "41",
    left: 44,
    top: 43.5,
    width: 7,
    height: 6.5,
    name: "Limeythecheeta",
    src: "sigil.png",
    desc: `Pony-based collars, blankets, original plushies, and other accessories and clothing! ✨`,
    twitter: ""
  },
  {
    id: "42",
    left: 37,
    top: 43.5,
    width: 7,
    height: 6.5,
    name: "Dawnfire's Art",
    src: "sigil.png",
    desc: `I sell prints, keychains, wall scrolls, bookmarks, and stickers! I also do Posca marker commissions while at my table! ✨`,
    twitter: ""
  },
  {
    id: "43",
    left: 30,
    top: 43.5,
    width: 7,
    height: 6.5,
    name: "JustaSuta Art + Design",
    src: "sigil.png",
    desc: `Cool, colorful, beautiful, and slightly esoteric artwork by Suta JustaSuta—Illustrator, Artist, Animal Person. I draw any and all animals and it's pretty sick—I do art for IDW's <i>My Little Pony</i> Comics and maybe others! ¯\\_(ツ)_/¯ 
<br><br>
Come on by for aesthetic prints, silly stickers, bookmarks, super ✨EXTRA✨ charms, and maybe even some comics~ among other neat things that we may have. Doing my best—that's the dream! ✨`,
    twitter: ""
  }
];


  const trigger = () => {
    const ad = document.getElementById("ad");
    if (window.innerWidth <= 1280 && ad) {
      window.addEventListener('scroll', () => {
        const appear = 20;
        if (window.pageYOffset <= appear) {
          // If more show the element
          ad.style.opacity = '1'
          ad.style.pointerEvents = 'all'
        } else {
          // Else hide it
          ad.style.opacity = '0'
          ad.style.pointerEvents = 'none'
        }
      });
    }

    let activeID = '';
    let isDragging = false;

    const highlight = (id) => {
      // Handle table highlight
      if (activeID) {
        const prevTable = document.getElementById(`table-${activeID}`);
        const prevVendorItem = document.getElementById(`vendor-item-${activeID}`);
        if (prevTable) {
          prevTable.style.opacity = '0';
        }
        if (prevVendorItem) {
          prevVendorItem.style.backgroundColor = '';
          prevVendorItem.style.color = '';
        }
      }
      const currentTable = document.getElementById(`table-${id}`);
      const currentVendorItem = document.getElementById(`vendor-item-${id}`);
      if (currentTable) {
        currentTable.style.opacity = '1';
      }
      if (currentVendorItem) {
        currentVendorItem.style.backgroundColor = '#000000';
        currentVendorItem.style.color = '#ffffff';
      }
      activeID = id;
    };

    vendors.forEach(({id, name }) => {
      // Table hover highlight
      if (document.getElementById(`regular-${id}`)) {
        const tooltip = tippy(document.getElementById(`regular-${id}`), {
          content: `<span class='font-medium font-serif tracking-wide text-sm'>${name}</span>`,
          placement: "top",
          animation: "shift-away-extreme",
          allowHTML: true,
        });

        const tableElement = document.getElementById(`regular-${id}`);
        const vendorDialog = document.getElementById(`dialog-${id}`);
        
        tableElement?.addEventListener("mouseenter", () => highlight(id));
        tableElement?.addEventListener("mouseleave", () => {
          const vendorItem = document.getElementById(`vendor-item-${id}`);
          if (vendorItem) {
            vendorItem.style.backgroundColor = '';
            vendorItem.style.color = '';
          }
          const table = document.getElementById(`table-${id}`);
          if (table) {
            table.style.opacity = '0';
          }
          activeID = '';
        });
        
        // Add click handler for table
        if (vendorDialog instanceof HTMLDialogElement) {
          tableElement?.addEventListener("click", () => {
            vendorDialog.showModal();
          });
        }

        // Vendor list item hover highlight
        const vendorItem = document.getElementById(`vendor-item-${id}`);
        if (vendorItem) {
          vendorItem.addEventListener("mouseenter", () => {
            highlight(id)
            tooltip.show();
          });
          vendorItem.addEventListener("mouseleave", () => {
            tooltip.hide();
          });
        }
      }
      
    });

    // Setup vendor modals first
    vendors.forEach(({id}) => {
      const vendorDialog = document.getElementById(`dialog-${id}`);
      const vendorItem = document.getElementById(`vendor-item-${id}`);
      if (vendorDialog instanceof HTMLDialogElement && vendorItem) {
        vendorItem.addEventListener("click", (e) => {
          if (!isDragging) {
            vendorDialog.showModal();
          }
        });
        vendorDialog.addEventListener("click", (e) => {
          if (e.target === vendorDialog) {
            vendorDialog.close();
          }
        });
      }
    });

    // Add click and drag interactions for vendors list
    const vendorsList = document.getElementById('vendors-list');
    if (vendorsList) {
      vendorsList.style.transition = 'background-color 300ms ease, opacity 300ms ease';

      vendorsList.addEventListener('mousedown', () => {
        vendorsList.style.backgroundColor = '#fff9e6';
      });

      vendorsList.addEventListener('mouseup', () => {
        if (!isDragging) {
          vendorsList.style.backgroundColor = '#ffffff';
        }
      });

      vendorsList.addEventListener('mouseleave', () => {
        vendorsList.style.backgroundColor = '#ffffff';
      });

      // Dragging functionality
      vendorsList.addEventListener('mousedown', (e) => {
        isDragging = false;
        const startX = e.clientX - vendorsList.offsetLeft;
        const startY = e.clientY - vendorsList.offsetTop;

        function onMouseMove(e) {
          isDragging = true;
          vendorsList.style.backgroundColor = '#ffffff';
          vendorsList.style.opacity = '0.5';
          vendorsList.style.left = e.clientX - startX + 'px';
          vendorsList.style.top = e.clientY - startY + 'px';
        }

        function onMouseUp() {
          document.removeEventListener('mousemove', onMouseMove);
          document.removeEventListener('mouseup', onMouseUp);
          if (isDragging) {
            vendorsList.style.backgroundColor = '#ffffff';
            vendorsList.style.opacity = '1';
          }
          // Reset isDragging after a short delay to allow click events to fire
          setTimeout(() => {
            isDragging = false;
          }, 0);
        }

        document.addEventListener('mousemove', onMouseMove);
        document.addEventListener('mouseup', onMouseUp);
      });
    }

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        document.querySelectorAll("dialog[open]").forEach((dialog) => {
          if (dialog instanceof HTMLDialogElement) {
            dialog.close();
          }
        });
      }
    });
  };

  trigger();

  document.addEventListener("swup:enable", () => {
    window.swup.hooks.on("content:replace", () => {
      trigger();
    })});
</script>